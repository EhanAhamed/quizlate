# API Dotenv File

To setup quizfreely-api & it's .env file for **production** see [production > api-setup.md](../production/api-setup.md)

- `PORT=`
  - port number to use
  - should be `PORT=8008` for production and development
- `HOST=`
  - `localhost` to listen on localhost, `0.0.0.0` to listen on all all IPv4 addresses, see https://fastify.dev/docs/latest/Reference/Server/#listen
  - should be `HOST=localhost` for production
  - should be `HOST=0.0.0.0` for development
- `POSTGRES_URI=`
  - PostgreSQL connection URI
  - should be `POSTGRES_URI=postgres://quizfreely_api:PASSWORD@localhost/quizfreely_db`
  - replace `PASSWORD` with your/our password
  - Most other .env variables replace localhost in production, but we keep "@localhost" in POSTGRES_URI= because the server process connects to the database through localhost, because both are on the same machine
- `CORS_ORIGIN=`
  - allowed CORS origin, see https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Access-Control-Allow-Origin
  - should be `CORS_ORIGIN=https://quizfreely.com` for production
  - should be `CORS_ORIGIN=http://localhost:8080` for development
- `COOKIES_DOMAIN=`
  - This is used for the domain flag of auth cookies in api
  - NO protocol (`example.com`, NOT `https://example.com`)
  - NO trailing slash (`example.com`, NOT `example.com/`)
  - should be `COOKIES_DOMAIN=quizfreely.com` for production
  - should be `COOKIES_DOMAIN=localhost` for development
- `LOG_LEVEL=`
  - log level for fastify using pino
  - can be `trace`, `debug`, `info`, `warn`, `error`, `fatal`
  - should be `LOG_LEVEL=warn` or `LOG_LEVEL=error` for production
  - we switch between them for development
- `OAUTH_GOOGLE_CLIENT_ID=`
  - google oauth client id
  - get it from google cloud something: https://console.cloud.google.com/apis/credentials
- `OAUTH_GOOGLE_CLIENT_SECRET=`
  - google oauth client secret
  - get it from google cloud something: https://console.cloud.google.com/apis/credentials
- `API_OAUTH_CALLBACK_URL=`
  - url to handle oauth signin/signup
  - should be `API_OAUTH_CALLBACK_URL=https://quizfreely.com/api/v0/oauth/google/callback` for production
  - should be `API_OAUTH_CALLBACK_URL=http://localhost:8080/api/v0/oauth/google/callback` for development
- `WEB_OAUTH_CALLBACK_URL=`
  - url to redirect/callback to after oauth signin/signup is done
  - should be `WEB_OAUTH_CALLBACK_URL=https://quizfreely.com/sign-up` for production
  - should be `WEB_OAUTH_CALLBACK_URL=http://localhost:8080/sign-up` for development
